<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Vercel Deployment</title>
</head>
<body>
    <h1>Test de d√©ploiement Vercel</h1>
    
    <h2>Test des s√©lecteurs g√©ographiques</h2>
    <div>
        <select id="departement"></select>
        <select id="commune" disabled></select>
        <select id="arrondissement" disabled></select>
        <select id="village" disabled></select>
    </div>
    
    <h2>Logs de test</h2>
    <div id="logs"></div>
    
    <script>
        function log(message) {
            const logs = document.getElementById('logs');
            logs.innerHTML += '<div>' + new Date().toLocaleTimeString() + ': ' + message + '</div>';
            console.log(message);
        }
        
        log('üöÄ Test de d√©ploiement d√©marr√©...');
        
        // Test de chargement de geo-data.js
        const script = document.createElement('script');
        script.src = '/geo-data.js';
        script.onload = function() {
            log('‚úÖ geo-data.js charg√© avec succ√®s');
            
            // Test des fonctions
            if (typeof geoData !== 'undefined') {
                log('‚úÖ geoData disponible: ' + geoData.departements.length + ' d√©partements');
            } else {
                log('‚ùå geoData non disponible');
            }
            
            if (typeof loadDepartements === 'function') {
                log('‚úÖ loadDepartements disponible');
            } else {
                log('‚ùå loadDepartements non disponible');
            }
            
            if (typeof initGeoSelectors === 'function') {
                log('‚úÖ initGeoSelectors disponible');
            } else {
                log('‚ùå initGeoSelectors non disponible');
            }
            
            // Test d'initialisation
            setTimeout(() => {
                if (typeof initGeoSelectors === 'function') {
                    log('üåç Tentative d\'initialisation des s√©lecteurs...');
                    initGeoSelectors();
                    
                    setTimeout(() => {
                        const deptSelect = document.getElementById('departement');
                        if (deptSelect && deptSelect.options.length > 1) {
                            log('‚úÖ S√©lecteurs initialis√©s: ' + deptSelect.options.length + ' options');
                        } else {
                            log('‚ùå S√©lecteurs non initialis√©s');
                        }
                    }, 100);
                }
            }, 100);
        };
        script.onerror = function() {
            log('‚ùå Erreur de chargement de geo-data.js');
        };
        document.head.appendChild(script);
    </script>
</body>
</html>
